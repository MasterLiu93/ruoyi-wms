# WMS仓储管理系统设计文档

## 1. 系统概述

### 1.1 系统目标

WMS（Warehouse Management System）仓储管理系统旨在提供一套完整的仓库管理解决方案，实现对仓库业务流程的全面管理和控制，包括基础数据管理、入库管理、出库管理、库存管理、批次管理、移库管理以及报表统计等功能，以提高仓库运营效率，降低管理成本，优化库存水平，提升客户满意度。

### 1.2 系统架构

本系统基于若依Pro框架开发，采用前后端分离架构：

- **前端**：Vue3 + Element Plus + TypeScript
- **后端**：Spring Boot + MyBatis Plus + MySQL
- **权限**：基于RBAC模型，实现细粒度的功能权限控制
- **数据隔离**：基于租户ID实现多租户数据隔离

## 2. 功能模块设计

### 2.1 基础数据管理

#### 2.1.1 客户管理

- 功能：管理客户基本信息，包括客户编码、名称、级别、联系人、电话、邮箱、地址等
- 数据结构：wms_customer表
- 业务规则：
    - 客户编码全局唯一
    - 客户级别分为普通客户、重要客户、VIP客户
    - 客户状态包括正常和禁用

#### 2.1.2 供应商管理

- 功能：管理供应商基本信息，包括供应商编码、名称、级别、联系人、电话、邮箱、地址等
- 数据结构：wms_supplier表
- 业务规则：
    - 供应商编码全局唯一
    - 供应商级别分为普通供应商、重要供应商、战略供应商
    - 供应商状态包括正常和禁用

#### 2.1.3 物料管理

- 功能：管理物料基本信息，包括物料编码、名称、分类、类型、规格、单位、单价等
- 数据结构：wms_item表、wms_item_category表
- 业务规则：
    - 物料编码全局唯一
    - 物料类型包括原材料、半成品、成品、包装材料
    - 物料可设置安全库存，用于库存预警

#### 2.1.4 仓库管理

- 功能：管理仓库、货区、货架、库位等仓储空间信息
- 数据结构：wms_warehouse表、wms_area表、wms_rack表、wms_location表
- 业务规则：
    - 仓库下设多个货区，货区下设多个货架，货架下设多个库位
    - 仓库类型包括原材料仓库、半成品仓库、成品仓库、退货仓库
    - 库位状态包括空闲、占用、锁定、禁用

### 2.2 入库管理

#### 2.2.1 入库单管理

- 功能：创建、审核、执行入库单，跟踪入库状态
- 数据结构：wms_receipt_order表、wms_receipt_order_detail表、wms_receipt_record表
- 业务规则：
    - 入库类型包括采购入库、生产入库、退货入库、调拨入库
    - 入库单状态流转：草稿 -> 待审核 -> 审核通过/拒绝
    - 入库状态包括待入库、部分入库、已完成
    - 入库时需选择或创建批次信息

### 2.3 出库管理

#### 2.3.1 出库单管理

- 功能：创建、审核、执行出库单，跟踪出库状态
- 数据结构：wms_shipment_order表、wms_shipment_order_detail表、wms_shipment_record表
- 业务规则：
    - 出库类型包括销售出库、生产出库、调拨出库、其他出库
    - 出库单状态流转：草稿 -> 待审核 -> 审核通过/拒绝
    - 出库状态包括待出库、部分出库、已完成
    - 出库时需选择批次，支持FIFO、FEFO等出库策略

### 2.4 库存管理

#### 2.4.1 库存查询

- 功能：查询当前库存情况，包括库存数量、可用数量、锁定数量等
- 数据结构：wms_inventory表
- 业务规则：
    - 库存数量 = 可用数量 + 锁定数量
    - 支持按仓库、库位、物料等条件查询

#### 2.4.2 库存盘点

- 功能：创建盘点单，执行盘点，处理盘点差异
- 数据结构：wms_inventory_check表、wms_inventory_check_detail表
- 业务规则：
    - 盘点类型包括全部盘点和部分盘点
    - 盘点状态包括新建、盘点中、已完成
    - 盘点完成后自动计算差异，可进行库存调整

#### 2.4.3 库存移动记录

- 功能：记录所有库存变动情况，包括入库、出库、调整等
- 数据结构：wms_inventory_movement表
- 业务规则：
    - 记录库存变动前后的数量
    - 关联业务单据，便于追溯

### 2.5 批次管理

#### 2.5.1 批次信息

- 功能：管理物料批次信息，包括批次号、生产日期、过期日期等
- 数据结构：wms_batch表
- 业务规则：
    - 批次号全局唯一
    - 记录批次的生产日期和过期日期
    - 批次状态包括正常、冻结、禁用

#### 2.5.2 批次库存

- 功能：管理批次级别的库存，实现按批次追踪库存
- 数据结构：wms_batch_inventory表
- 业务规则：
    - 记录每个批次在各库位的库存情况
    - 支持批次级别的库存锁定和解锁

#### 2.5.3 批次操作记录

- 功能：记录批次的各种操作，如入库、出库、调整等
- 数据结构：wms_batch_record表
- 业务规则：
    - 记录批次操作的类型、数量、时间等信息
    - 便于追溯批次的历史操作

### 2.6 移库管理

#### 2.6.1 移库单管理

- 功能：创建、审核、执行移库单，实现库存在不同库位间的移动
- 数据结构：wms_move_order表、wms_move_order_detail表、wms_move_record表
- 业务规则：
    - 移库类型包括仓库间移库、库区间移库、库位间移库
    - 移库单状态流转：草稿 -> 待审核 -> 审核通过/拒绝
    - 移库状态包括待移库、部分移库、已完成
    - 移库时需指定批次信息

### 2.7 报表统计

#### 2.7.1 库存报表

- 功能：展示库存统计信息，如库存量、库存金额、周转率等
- 数据来源：wms_inventory表、wms_batch_inventory表
- 展示方式：表格、图表结合

#### 2.7.2 入库报表

- 功能：统计入库情况，如入库数量、金额、频次等
- 数据来源：wms_receipt_order表、wms_receipt_record表
- 展示方式：表格、图表结合

#### 2.7.3 出库报表

- 功能：统计出库情况，如出库数量、金额、频次等
- 数据来源：wms_shipment_order表、wms_shipment_record表
- 展示方式：表格、图表结合

#### 2.7.4 库存报警

- 功能：根据安全库存，展示库存预警信息
- 数据来源：wms_inventory表、wms_item表
- 展示方式：表格、预警提示

## 3. 数据库设计

### 3.1 数据表结构

系统主要包含以下数据表：

#### 3.1.1 基础数据表

- wms_customer：客户表
- wms_supplier：供应商表
- wms_item_category：物料分类表
- wms_item：物料表
- wms_warehouse：仓库表
- wms_area：货区表
- wms_rack：货架表
- wms_location：库位表

#### 3.1.2 入库相关表

- wms_receipt_order：入库单表
- wms_receipt_order_detail：入库单明细表
- wms_receipt_record：入库操作记录表

#### 3.1.3 出库相关表

- wms_shipment_order：出库单表
- wms_shipment_order_detail：出库单明细表
- wms_shipment_record：出库操作记录表

#### 3.1.4 库存相关表

- wms_inventory：库存表
- wms_inventory_movement：库存移动记录表
- wms_inventory_check：库存盘点单表
- wms_inventory_check_detail：库存盘点明细表

#### 3.1.5 批次相关表

- wms_batch：批次信息表
- wms_batch_inventory：批次库存表
- wms_batch_record：批次操作记录表

#### 3.1.6 移库相关表

- wms_move_order：移库单表
- wms_move_order_detail：移库单明细表
- wms_move_record：移库操作记录表

### 3.2 数据字典

系统使用以下数据字典：

- wms_customer_level：客户级别字典
- wms_customer_status：客户状态字典
- wms_supplier_level：供应商级别字典
- wms_supplier_status：供应商状态字典
- wms_warehouse_type：仓库类型字典
- wms_area_type：货区类型字典
- wms_rack_type：货架类型字典
- wms_location_type：库位类型字典
- wms_location_status：库位状态字典
- wms_item_type：物料类型字典
- wms_receipt_type：入库类型字典
- wms_shipment_type：出库类型字典
- wms_quality_status：质检状态字典
- wms_order_status：单据状态字典
- wms_receipt_status：入库状态字典
- wms_shipment_status：出库状态字典
- wms_move_type：移库类型字典
- wms_move_status：移库状态字典
- wms_check_type：盘点类型字典
- wms_check_status：盘点状态字典
- wms_movement_type：移动类型字典
- wms_batch_status：批次状态字典

## 4. 界面设计

### 4.1 主界面

- 顶部：系统名称、用户信息、消息通知、系统设置等
- 左侧：功能菜单导航
- 中间：内容显示区域
- 底部：版权信息、系统版本等

### 4.2 功能页面

- 列表页：数据表格展示、搜索条件、操作按钮
- 表单页：数据编辑表单、验证规则、提交按钮
- 详情页：数据详情展示、关联信息展示
- 报表页：统计图表、数据筛选条件

## 5. 菜单结构

```
仓储管理系统
├── 基础数据管理
│   ├── 客户管理
│   ├── 供应商管理
│   ├── 物料管理
│   └── 物料分类
├── 入库管理
│   └── 入库单管理
├── 出库管理
│   └── 出库单管理
├── 批次管理
│   ├── 批次信息
│   ├── 批次库存
│   └── 批次记录
├── 库存管理
│   ├── 库存查询
│   ├── 移动记录
│   └── 库存盘点
├── 移库管理
│   └── 移库单管理
└── 报表统计
    ├── 库存报表
    ├── 入库报表
    ├── 出库报表
    └── 库存报警
```

## 6. 权限设计

系统基于RBAC权限模型，实现以下权限控制：

### 6.1 功能权限

- 基于菜单和按钮的权限控制
- 不同角色可分配不同的功能权限
- 权限粒度细化到增删改查操作

### 6.2 数据权限

- 基于租户ID实现多租户数据隔离
- 同一租户内，可根据角色设置数据访问范围
- 支持自定义数据权限规则

## 7. 开发与部署指南

### 7.1 开发环境

- JDK: 1.8+
- Node.js: 16+
- MySQL: 5.7+
- Redis: 6.0+
- Maven: 3.6+

### 7.2 项目结构

- wms-server: 后端服务
- wms-ui: 前端界面

### 7.3 部署步骤

1. 数据库初始化：执行SQL脚本创建数据库和表
2. 后端部署：配置数据库连接，打包部署后端服务
3. 前端部署：构建前端代码，部署到Web服务器
4. 系统配置：设置系统参数，创建初始用户和角色

## 8. 系统亮点与特色

### 8.1 全面的业务流程覆盖

- 涵盖仓储管理全流程：入库、出库、移库、盘点等
- 支持多种业务场景：采购、销售、生产、调拨等

### 8.2 精细化的库存管理

- 支持批次管理，实现先进先出(FIFO)、先过期先出(FEFO)等策略
- 库存锁定机制，保障并发操作的数据一致性
- 库存追溯功能，记录每笔库存变动

### 8.3 灵活的扩展性

- 多租户架构，支持多仓库、多组织机构
- 可自定义字典数据，适应不同业务需求
- 权限精细化控制，满足不同角色需求

### 8.4 友好的用户体验

- 响应式界面设计，支持多种终端访问
- 可视化报表，直观展示业务数据
- 操作简便，减少用户学习成本 